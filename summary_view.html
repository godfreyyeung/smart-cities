<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

      google.load('visualization', '1', {packages: ['corechart', 'bar']});
      google.setOnLoadCallback(drawAxisTickColors);
      
      //initializing the charts
      columnChart = {
        data: null,
        options: null,
        chart: null
      },
      lineChart = {
        data: null,
        options: null,
        chart: null
      };

      function drawAxisTickColors() {
        this.columnChart.data = google.visualization.arrayToDataTable([
          ['TimeOfDay', 'Other', 'Morning', 'Evening', { role: 'annotation' } ],
          ['Sunday', 10, 24, 20, ''],
          ['Monday', 16, 22, 23, ''],
          ['Tuesday', 28, 19, 29, ''],
          ['Wednesday', 28, 19, 29, ''],
          ['Thursday', 28, 19, 29, ''],
          ['Friday', 28, 19, 29, ''],
          ['Saturday', 28, 19, 29, '']
        ]);

        this.columnChart.options = {
          width: 600,
          height: 400,
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '75%' },
          isStacked: true,
        };
      
        this.columnChart.chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        this.columnChart.chart.draw(this.columnChart.data, this.columnChart.options);

        google.visualization.events.addListener(this.columnChart.chart, 'select', this.drawLineChart);
      }
      
      function drawLineChart () {
      
        if (this.columnChart.chart.getSelection().length > 0 ) {
          var selection = this.columnChart.chart.getSelection();
          this.lineChart.data = google.visualization.arrayToDataTable([
            ['Year', 'Sales', 'Expenses'],
            ['2004',  1000,      400],
            ['2005',  1170,      460],
            ['2006',  660,       1120],
            ['2007',  1030,      540]
          ]),
          this.lineChart.options = {
            width: 600,
            height: 200,
            title: 'Company Performance',
            curveType: 'function',
            legend: { position: 'bottom' }
          };
          this.lineChart.chart = new google.visualization.LineChart(document.getElementById('line_chart'));
          
          this.columnChart.options.height = 200;
          this.columnChart.chart.draw(this.columnChart.data, this.columnChart.options);
          google.visualization.events.addListener(this.columnChart.chart, 'select', this.drawLineChart);
          this.columnChart.chart.setSelection(selection);
          this.lineChart.chart.draw(this.lineChart.data, this.lineChart.options);
        } else {
          this.columnChart.options.height = 400;
          this.columnChart.chart.draw(this.columnChart.data, this.columnChart.options);
          this.lineChart.chart.clearChart();
        }
      }
    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="chart_div"></div>
    <div id="line_chart"></div>
  </body>
</html>